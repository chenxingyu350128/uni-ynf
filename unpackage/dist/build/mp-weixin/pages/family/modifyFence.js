require('common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/modifyFence"],{"1aeb":function(t,e,n){"use strict";(function(t){n("7736");i(n("66fd"));var e=i(n("e035"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"434d":function(t,e,n){"use strict";var i={uField:function(){return n.e("uview-ui/components/u-field/u-field").then(n.bind(null,"ecd7"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"46fc"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"59b3"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"513c"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"250b"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.showSelect=!t.showSelect})},u=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}))},"789c":function(t,e,n){"use strict";n.r(e);var i=n("fece"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=o.a},dd90:function(t,e,n){"use strict";var i=n("f283"),o=n.n(i);o.a},e035:function(t,e,n){"use strict";n.r(e);var i=n("434d"),o=n("789c");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("dd90");var s,a=n("f0c5"),d=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"8d1d06b6",null,!1,i["a"],s);e["default"]=d.exports},f283:function(t,e,n){},fece:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{style:{"border-radius":"unset",background:"#00aaef"},showSelect:!1,railId:"",lat:"",lon:"",name:"",radius:1e3,address:""}},computed:{memberId:function(){return this.$store.state.member.memberId},watchId:{get:function(){return this.$store.state.member.memberId},set:function(){}},sessionId:function(){return this.$store.state.app.sessionId},latitude:function(){var t=this.$store.state.app.locationPoint.latitude;return this.lat||t},longitude:function(){var t=this.$store.state.app.locationPoint.longitude;return this.lon||t},circles:function(){return[{latitude:this.latitude,longitude:this.longitude,radius:this.radius,fillColor:"#dea4dd65",color:"#fff"}]}},onLoad:function(t){t&&(this.railId=t.railId)},onShow:function(){this.railId&&this.init()},methods:{init:function(){var t=this,e={memberId:this.memberId,sessionId:this.sessionId,railId:this.railId};this.$http.get("/mobile/user/getRail",e).then((function(e){if(e.data.success){var n=e.data.obj[0];for(var i in n)t[i]=n[i]}}))},modify:function(){var e=this;if(!this.name)return this.$u.toast("请输入地址名称"),!1;if(!this.address)return this.$u.toast("请点击地图选点"),!1;var n={sessionId:this.sessionId,watchId:this.watchId,radius:this.radius,name:this.name,lat:this.latitude,lon:this.longitude,address:this.address};this.railId&&(n.railId=this.railId);var i=this.railId?"/mobile/user/updateWatchRail":"/mobile/user/addWatchRail";this.$http.post(i,n).then((function(n){n.data.success&&(e.$u.toast(n.data.msg),setTimeout((function(){t.navigateBack()}),500))}))},selectRadius:function(t){this.radius=t,this.showSelect=!1},mapTap:function(t){var e=this;console.log(t);var n=t.detail,i=n.latitude.toFixed(6),o=n.longitude.toFixed(6),u={key:"ac35d325fe51d2ef03496f3a152ab818",location:o+","+i};this.$http.get("https://restapi.amap.com/v3/geocode/regeo",u).then((function(t){console.log(t),"OK"===t.data.info&&(console.log("yyy"),e.lat=n.latitude.toFixed(6),e.lon=n.longitude.toFixed(6),e.address=t.data.regeocode.formatted_address)}))}}};e.default=n}).call(this,n("543d")["default"])}},[["1aeb","common/runtime","common/vendor"]]]);