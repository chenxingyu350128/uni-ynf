require('common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/modifyContact"],{"21e5":function(e,t,n){"use strict";n.r(t);var i=n("6178"),o=n("5c97");for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);var r,a=n("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=s.exports},"5c97":function(e,t,n){"use strict";n.r(t);var i=n("fd89"),o=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=o.a},6178:function(e,t,n){"use strict";var i={uField:function(){return n.e("uview-ui/components/u-field/u-field").then(n.bind(null,"ecd7"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"46fc"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"59b3"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"c285"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"c041"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"250b"))}},o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.showSelect=!0},e.e1=function(t){e.showPicker=!0})},u=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}))},"99bb":function(e,t,n){"use strict";(function(e){n("7736");i(n("66fd"));var t=i(n("21e5"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},fd89:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{emergency:!1,showSelect:!1,showPicker:!1,item:null,trueName:"",rela:"",address:"",province:"",city:"",areas:"",phone:"",contactsId:"",bookId:"",relatives:[{value:"父亲",label:"父亲",extra:1},{value:"母亲",label:"母亲",extra:2},{value:"丈夫",label:"丈夫",extra:1},{value:"妻子",label:"妻子",extra:2},{value:"爷爷",label:"爷爷",extra:1},{value:"奶奶",label:"奶奶",extra:2},{value:"外公",label:"外公",extra:1},{value:"外婆",label:"外婆",extra:2},{value:"儿子",label:"儿子",extra:1},{value:"女儿",label:"女儿",extra:2},{value:"亲戚",label:"亲戚",extra:0},{value:"朋友",label:"朋友",extra:0},{value:"其他",label:"其他",extra:0},{value:"本人",label:"本人",extra:0}]}},computed:{sessionId:function(){return this.$store.state.app.sessionId},region:function(){return this.province&&this.city&&this.areas?this.province+"-"+this.city+"-"+this.areas:""},memberId:{get:function(){return this.$store.state.member.memberId},set:function(){}},defaultRela:function(){var e=this,t=12;return this.relatives.forEach((function(n,i){n.value==e.rela&&(t=i)})),[t]},defaultRegion:function(){var e=[];return this.province&&this.city&&this.province&&(e=[this.province,this.city,this.areas]),e}},onLoad:function(e){console.log(e),e.emergency&&(this.emergency=!0),e.item&&(this.item=JSON.parse(decodeURIComponent(e.item)))},onShow:function(){if(this.item)for(var e in this.item)this[e]=this.item[e]},methods:{relaConfirm:function(e){console.log(e),this.rela=e[0].value},regionConfirm:function(e){console.log(e),this.province=e.province.label,this.city=e.city.label,this.areas=e.area.label},addContact:function(){var t=this;if(console.log("cvv"),!this.trueName)return this.$u.toast("姓名不得为空"),!1;if(!this.phone)return this.$u.toast("手机号不得为空"),!1;if(!this.region||3!==this.region.split("-").length)return this.$u.toast("请选择所在区域"),!1;if(!this.address)return this.$u.toast("详细地址不得为空"),!1;var n={sessionId:this.sessionId,trueName:this.trueName,phone:this.phone,address:this.address,province:this.province,city:this.city,areas:this.areas,rela:this.rela||relatives[12].value},i="";this.emergency?(i=this.item?"/mobile/user/editContacts":"/mobile/user/addContacts",this.contactsId?n.contactsId=this.contactsId:n.memberId=this.memberId):(i=this.item?"/mobile/user/editBooks":"/mobile/user/addBooks",this.bookId?n.bookId=this.bookId:n.memberId=this.memberId),console.log(n,i),this.$http.post(i,n).then((function(n){n.data.success&&(t.$u.toast(n.data.msg),e.navigateBack())}))}}};t.default=n}).call(this,n("543d")["default"])}},[["99bb","common/runtime","common/vendor"]]]);