require('common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/InformationDetails"],{"1f9c":function(e,t,r){"use strict";var n={uImage:function(){return r.e("uview-ui/components/u-image/u-image").then(r.bind(null,"62ea"))},uCellGroup:function(){return r.e("uview-ui/components/u-cell-group/u-cell-group").then(r.bind(null,"46fc"))},uCellItem:function(){return r.e("uview-ui/components/u-cell-item/u-cell-item").then(r.bind(null,"59b3"))}},i=function(){var e=this,t=e.$createElement,r=(e._self._c,e.isUser?e.__map(e.userCells,(function(t,r){var n=e.__get_orig(t),i="sex"===t.name?e.genderFilter(t.key):null;return{$orig:n,m0:i}})):null),n=e.isUser?null:e.__map(e.memberCells,(function(t,r){var n=e.__get_orig(t),i="sex"===t.name?e.genderFilter(t.key):null;return{$orig:n,m1:i}}));e.$mp.data=Object.assign({},{$root:{l0:r,l1:n}})},s=[];r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return n}))},"26a1":function(e,t,r){"use strict";r.r(t);var n=r("cae4"),i=r.n(n);for(var s in n)"default"!==s&&function(e){r.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"8c07":function(e,t,r){"use strict";(function(e){r("7736");n(r("66fd"));var t=n(r("f735"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},cae4:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{isUser:!1,relatives:[{rela:"父亲",gender:1},{rela:"母亲",gender:2},{rela:"丈夫",gender:1},{rela:"妻子",gender:2},{rela:"爷爷",gender:1},{rela:"奶奶",gender:2},{rela:"外公",gender:1},{rela:"外婆",gender:2},{rela:"儿子",gender:1},{rela:"女儿",gender:2},{rela:"亲戚",gender:0},{rela:"朋友",gender:0},{rela:"其他",gender:0},{rela:"本人",gender:0}]}},computed:{member:function(){return this.$store.state.member},user:function(){return this.$store.state.app},sessionId:function(){return this.$store.state.app.sessionId},realName:function(){return this.$store.state[this.isUser?"app":"member"].realName},trueName:function(){return this.$store.state["member"].trueName},memberId:function(){return this.$store.state["member"].memberId},birthday:function(){return this.$store.state[this.isUser?"app":"member"].birthday},identity:function(){return this.$store.state["member"].identity},address:function(){return this.$store.state["member"].address},sex:function(){return this.$store.state[this.isUser?"app":"member"].sex},blood:function(){return this.$store.state[this.isUser?"app":"member"].blood},height:function(){return this.$store.state["member"].height},weight:function(){return this.$store.state["member"].weight},phone:function(){return this.$store.state["member"].phone},rela:function(){return this.$store.state["member"].rela},domicile:function(){return this.$store.state[this.isUser?"app":"member"].domicile},mail:function(){return this.$store.state["app"].mail},occupation:function(){return this.$store.state["app"].occupation},householdRegister:function(){return this.$store.state["app"].householdRegister},image:function(){return this.$store.state[this.isUser?"app":"member"].image},userName:function(){return this.$store.state["app"].userName},memberNum:function(){return this.$store.state["member"].memberNum},memberCells:function(){return[{key:this.realName,name:"realName",label:"昵称"},{key:this.trueName,name:"trueName",label:"真实姓名"},{key:this.birthday,name:"birthday",label:"生日"},{key:this.identity,name:"identity",label:"身份证号"},{key:this.address,name:"address",label:"家庭住址"},{key:this.sex,name:"sex",label:"性别"},{key:this.blood,name:"blood",label:"血型"},{key:this.height,name:"height",label:"身高"},{key:this.weight,name:"weight",label:"体重"},{key:this.phone,name:"phone",label:"手机号码"},{key:this.rela,name:"rela",label:"与用户关系"},{key:this.domicile,name:"domicile",label:"所在地"}]},userCells:function(){return[{key:this.realName,name:"realName",label:"昵称"},{key:this.sex,name:"sex",label:"性别"},{key:this.birthday,name:"birthday",label:"生日"},{key:this.blood,name:"blood",label:"血型"},{key:this.mail,name:"mail",label:"邮箱"},{key:this.occupation,name:"occupation",label:"职业"},{key:this.householdRegister,name:"householdRegister",label:"户籍地"},{key:this.domicile,name:"domicile",label:"所在地"}]}},onLoad:function(t){t.isUser?this.isUser=!0:e.$emit("getMember"),this},methods:{genderFilter:function(e){var t=["未知","男","女"];return t[e]},updateAvatar:function(){var t=this;e.chooseImage({count:1,success:function(r){if(console.log(r),"chooseImage:ok"===r.errMsg){var n=r.tempFiles[0].path;e.uploadFile({url:"https://www.yinaf.net/mobile/file/fileUpload",filePath:n,fileType:"image",name:"file",success:function(e){console.log(e);var r=JSON.parse(e.data);if(r.success){var n=r.obj.url;t.uploadAvatar(n)}}})}}})},uploadAvatar:function(t){var r=this,n={sessionId:this.sessionId,image:t};this.isUser||(n.memberId=this.memberId);var i=this.isUser?"/mobile/user/editUser":"/mobile/user/updateMember";this.$http.post(i,n).then((function(t){t.data.success&&(r.isUser?e.$emit("getUser"):r.updateMember(),r.$u.toast(t.data.msg))}))},updateMember:function(){e.$emit("getMemberList"),e.$emit("getMember")},cellClick:function(t){var r=this;console.log(t);var n=t.name,i=t.key,s=t.label,a=!0;if("sex"!==n||this.isUser||this.relatives.some((function(e){if(e.gender&&r.rela&&e.rela===r.rela){var t=e.gender;return a=!t,!0}})),!a)return this.$u.toast("性别已固定，不可更改"),!1;e.navigateTo({url:"./modifySingleItem?key=".concat(n,"&value=").concat(i,"&label=").concat(s,"&isUser=").concat(Number(this.isUser))})}}};t.default=r}).call(this,r("543d")["default"])},f735:function(e,t,r){"use strict";r.r(t);var n=r("1f9c"),i=r("26a1");for(var s in i)"default"!==s&&function(e){r.d(t,e,(function(){return i[e]}))}(s);var a,l=r("f0c5"),o=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=o.exports}},[["8c07","common/runtime","common/vendor"]]]);