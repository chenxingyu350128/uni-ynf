(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/family/family"],{"04cc":function(e,t,n){"use strict";n.r(t);var i=n("3728"),s=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=s.a},1194:function(e,t,n){"use strict";var i={uniBattery:function(){return n.e("components/uni-battery/uni-battery").then(n.bind(null,"6493"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"513c"))},uLine:function(){return n.e("uview-ui/components/u-line/u-line").then(n.bind(null,"f0e5"))},uAvatar:function(){return n.e("uview-ui/components/u-avatar/u-avatar").then(n.bind(null,"7681"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"62ea"))},uNoticeBar:function(){return n.e("uview-ui/components/u-notice-bar/u-notice-bar").then(n.bind(null,"d07c"))}},s=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.showMenu=!e.showMenu})},o=[];n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))},3728:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"family",data:function(){return{clickValid:!0,items:[{title:"实时数据",color:"#97e08e",icon:"chart-bar"},{title:"联系人",color:"#f4c293",icon:"group-line"},{title:"定位",color:"#f9b4b4",icon:"location"},{title:"电话呼叫",color:"#f4d47a",icon:"telephone"},{title:"警报提示",color:"#f4c293",icon:"alarm-warning"},{title:"腕表设置",color:"#f9b4b4",icon:"watch-nice"}],showMenu:!1,showModal:!1,defaultAvatar:n("478e"),series_id:"",seriesName:"",seriesRemarks:"",seriesImg:"",integralNum:"",memberIntegral:"",carouselList:[],careCarousel:[],scanType:""}},computed:{watchId:function(){return this.$store.state.member.watchId},sessionId:function(){return this.$store.state.app.sessionId},image:function(){return this.$store.state.member.image},watchPhone:function(){return this.$store.state.member.watchPhone},memberId:{get:function(){return this.$store.state.member.memberId},set:function(e){console.log("设置memberId:",e)}},realName:function(){return this.$store.state.member.realName},battery:function(){return this.$store.state.app.battery},memberList:{get:function(){return this.$store.state.app.memberList},set:function(){}}},watch:{watchId:{handler:function(e){e&&this.getBattery()},immediate:!0},memberId:{handler:function(e){e&&this.getMemberDetails()},immediate:!0}},methods:{memberChange:function(e){var t,n=this;return!(this.memberList&&this.memberList.length<2)&&(!!this.clickValid&&(this.clickValid=!1,setTimeout((function(){n.clickValid=!0}),1e3),this.memberList.some((function(e,i){if(n.memberId===e.memberId)return t=i,!1})),"plus"===e&&(t===this.memberList.length-1?this.$store.commit("SET_EACH_MEMBER_ITEM",this.memberList[0]):this.$store.commit("SET_EACH_MEMBER_ITEM",this.memberList[t+1])),void("minus"===e&&(0===t?this.$store.commit("SET_EACH_MEMBER_ITEM",this.memberList[this.memberList.length-1]):this.$store.commit("SET_EACH_MEMBER_ITEM",this.memberList[t-1])))))},toQrcode:function(){e.navigateTo({url:"../../family/QrCode"})},toMemberInfo:function(){e.navigateTo({url:"../../family/InformationDetails"})},getMemberDetails:function(){var e=this,t={memberId:this.memberId,sessionId:this.sessionId};this.$http.get("/mobile/user/getMember",t).then((function(t){if(t.data.success){var n=t.data.obj;e.$store.commit("SET_EACH_MEMBER_ITEM",n)}})),this.getDeviceInfo(),this.getCareCarousel(),this.getMemberIntegral()},getCareCarousel:function(){var e=this,t={sessionId:this.sessionId,memberId:this.memberId};this.$http.post("/mobile/healthy/getCareCarousel",t).then((function(t){t.data.success&&(e.careCarousel=t.data.obj,e.carouselList=e.careCarousel.map((function(e){return e.content})))}))},getBattery:function(){var e=this,t={sessionId:this.sessionId,watchId:this.watchId,memberId:this.memberId};this.$http.get("/mobile/healthy/getWatchBattery",t).then((function(t){t.data.success&&e.$store.commit("SET_SINGLE_ITEM",["battery",t.data.obj])}))},getMemberIntegral:function(){var e=this,t={memberId:this.memberId,sessionId:this.sessionId};this.$http.get("/mobile/activity/getIntegralTack",t).then((function(t){t.data.success&&(e.memberIntegral=t.data.obj.integralNum)}))},getDeviceInfo:function(){var e=this;console.log(122);var t={sessionId:this.sessionId,memberId:this.memberId};this.$http.post("/mobile/healthy/getWacthInfo",t).then((function(t){if(t.data.success){var n=t.data.obj;e.seriesName=n.seriesName,e.seriesImg=decodeURIComponent(n.seriesImg),e.seriesRemarks=n.seriesRemarks}}))},menuClick:function(t){return this.showMenu=!1,this.sessionId?(console.log(t),console.log(typeof t),t<2?(this.scanCode(t),!1):void(3===t&&(console.log("bbb"),e.navigateTo({url:"../../mine/usageAssistant"})))):(e.showToast({title:"请先授权登录",icon:"none"}),setTimeout((function(){e.navigateTo({url:"../../public/firstCome/firstCome"})}),500),!1)},iconMenuClick:function(t){if(!this.sessionId)return e.showToast({title:"请先授权登录",icon:"none"}),setTimeout((function(){e.navigateTo({url:"../../public/firstCome/firstCome"})}),500),!1;var n=[2,3,5];if(n.includes(t)&&!this.watchId)return e.showModal({title:"添加腕表",content:"添加腕表，解锁更多功能",cancelColor:"#f00",success:function(t){t.confirm&&e.$emit("scanCode",0)}}),!1;if(3===t)return this.watchPhone?e.makePhoneCall({phoneNumber:this.watchPhone}):e.showToast({icon:"none",title:"未检测到腕表的物联网卡"}),!1;var i=["../../family/deviceData","../../family/contacts","../../family/location","","../../family/alarms","../../family/watchSetting"];e.navigateTo({url:i[t]})},scanCode:function(t){e.$emit("scanCode",t),this.showModal=!1}}};t.default=i}).call(this,n("543d")["default"])},"8c11":function(e,t,n){},9589:function(e,t,n){"use strict";n.r(t);var i=n("1194"),s=n("04cc");for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);n("ae33");var r,a=n("f0c5"),c=Object(a["a"])(s["default"],i["b"],i["c"],!1,null,"66f6fef4",null,!1,i["a"],r);t["default"]=c.exports},ae33:function(e,t,n){"use strict";var i=n("8c11"),s=n.n(i);s.a},ea65:function(e,t,n){"use strict";(function(e){n("7736");i(n("66fd"));var t=i(n("9589"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["ea65","common/runtime","common/vendor"]]]);