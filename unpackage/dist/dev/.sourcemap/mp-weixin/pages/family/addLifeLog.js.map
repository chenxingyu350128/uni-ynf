{"version":3,"sources":["uni-app:///main.js","webpack:///E:/learn/xxx/pages/family/addLifeLog.vue?9479","webpack:///E:/learn/xxx/pages/family/addLifeLog.vue?9ee9","webpack:///E:/learn/xxx/pages/family/addLifeLog.vue?fba3","webpack:///E:/learn/xxx/pages/family/addLifeLog.vue?0cd9","uni-app:///pages/family/addLifeLog.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;;;AAGzD;AACyO;AACzO,gBAAgB,8OAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,qOAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAw7B,CAAgB,y7BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+B58B;AACA,MADA,kBACA;AACA;AACA;AACA,gCADA,EADA;;AAIA;AACA,YADA;AAEA,UAFA;AAGA,UAHA;AAIA,SAJA;AAKA,UALA;AAMA,UANA;AAOA,UAPA,CAJA;;AAaA;AACA,iCADA;AAEA,uCAFA;AAGA,0CAHA;AAIA,2CAJA;AAKA,yBALA;AAMA,4BANA;AAOA,kDAPA,CAbA;;AAsBA,iBAtBA;AAuBA,kBAvBA;;AAyBA,GA3BA;AA4BA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,yBAFA;AAGA,uCAHA;;AAKA;AACA,OARA;AASA;AACA,KAdA;AAeA,YAfA,sBAeA;AACA;AACA,KAjBA;AAkBA,aAlBA,uBAkBA;AACA;AACA,KApBA,EA5BA;;AAkDA,QAlDA,kBAkDA,CAlDA,EAkDA;AACA;AACA;AACA,GArDA;AAsDA;AACA,gBADA,wBACA,CADA,EACA,KADA,EACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,UAPA,oBAOA;AACA;AACA,kBADA,GACA,GADA,CACA,UADA,CACA,QADA,GACA,GADA,CACA,QADA,CACA,QADA,GACA,GADA,CACA,QADA;AAEA;AACA,gCADA;AAEA,4BAFA;AAGA,4BAHA;AAIA,qCAJA;AAKA,mCALA;;AAOA;AACA,YADA,CACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAfA;AAgBA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KA3BA;AA4BA,kBA5BA,0BA4BA,CA5BA,EA4BA;AACA;AACA,KA9BA;AA+BA,WA/BA,mBA+BA,IA/BA,EA+BA,CA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA;AACA,6BADA;AAEA,mCAFA;AAGA,qBAHA;AAIA,iBAJA;AAKA,qBALA;;;AAQA;AACA,KAlDA;AAmDA,cAnDA,sBAmDA,CAnDA,EAmDA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAxDA,EAtDA,E","file":"pages/family/addLifeLog.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/family/addLifeLog.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addLifeLog.vue?vue&type=template&id=4bf3fe29&\"\nvar renderjs\nimport script from \"./addLifeLog.vue?vue&type=script&lang=js&\"\nexport * from \"./addLifeLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/family/addLifeLog.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addLifeLog.vue?vue&type=template&id=4bf3fe29&\"","var components = {\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n    )\n  },\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addLifeLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addLifeLog.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"d-flex flex-wrap pa-4\">\r\n      <u-button class=\"ma-2\" @click=\"addType(item, i)\" v-for=\"(item, i) in typesValid\" :key=\"i\" type=\"primary\" size=\"mini\">{{item.name}}</u-button>\r\n    </view>\r\n    <view v-if=\"addArray.length\">\r\n      <view v-for=\"(item, i) in addArray\" :key=\"i\">\r\n        <u-cell-group>\r\n          <u-cell-item  \r\n          :title=\"item.lifeName\" \r\n          :value=\"item.lifeDefree\"\r\n          :arrow=\"false\"\r\n          >\r\n            <u-icon @click=\"deleteAddArray(i)\" class=\"mr-2\" slot=\"icon\" size=\"50\" color=\"#00aaef\" name=\"close-circle\"></u-icon>\r\n            <u-icon @click=\"showSelect(i)\"  class=\"ml-2\" slot=\"right-icon\" size=\"40\" color=\"grey\" :name=\"item.show?'arrow-up':'arrow-down'\"></u-icon>\r\n          </u-cell-item>\r\n        </u-cell-group>\r\n        <view v-if=\"item.show\">\r\n          <view v-for=\"(itm, index) in typesValid[item.type].items\" :key=\"index\">\r\n            <view class=\"px-6 py-2 u-border-bottom\" @click=\"selectDegree(i, index, itm)\">{{itm}}</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view v-if=\"addArray.length\" class=\"posFix b0 full-width\">\r\n      <u-button @click=\"commit\" :custom-style=\"customStyle\" type=\"primary\">保存</u-button>\r\n    </view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n        customStyle: {\r\n          'border-radius': 'unset'\r\n        },\n\t\t\t\ttypeNames: [\r\n\t\t\t\t  '正餐食量',\r\n\t\t\t\t  '蔬菜',\r\n\t\t\t\t  '脂肪',\r\n\t\t\t\t  '盐',\r\n\t\t\t\t  '抽烟',\r\n\t\t\t\t  '喝酒',\r\n\t\t\t\t  '运动'\r\n\t\t\t\t],\r\n        selectItems: [\r\n          ['7分饱','8-9分饱','饥饿或暴饮暴食'],\r\n          ['红黄蓝白黑都有', '2-4钟颜色食物', '没有颜色搭配'],\r\n          ['少吃肥肉和猪油', '吃了一些肥肉和猪油', '吃大量肥肉和猪油'],\r\n          ['摄入量<6g', '摄入量6g ~ 10g', '摄入量10g以上'],\r\n          ['没有抽烟','抽烟或被动抽烟'],\r\n          ['没有喝酒', '喝了啤酒、红酒或白酒'],\r\n          ['饭后1~2小时运动30分钟以上', '运动不定时，且少于30分钟', '没有运动']\r\n        ],\r\n        existed: [],\r\n        addArray: []\n\t\t\t};\n\t\t},\r\n    computed: {\r\n      typesValid () {\r\n        let result = []\r\n        let index = 0\r\n        this.typeNames.forEach((res, i) => {\r\n          if (!this.existed.includes(res)) {\r\n            result.push({\r\n              name: res,\r\n              type: index++,\r\n              items: this.selectItems[i]\r\n            }) \r\n          }\r\n        })\r\n        return result\r\n      },\r\n      memberId () {\r\n        return this.$store.state.member.memberId\r\n      },\r\n      sessionId () {\r\n        return this.$store.state.app.sessionId\r\n      }\r\n    },\r\n    onLoad(e) {\r\n      this.existed = JSON.parse(decodeURIComponent(e.typeExisted))\r\n      // console.log(x)\r\n    },\r\n    methods: {\r\n      selectDegree (i, index, item) {\r\n        console.log(i, index, item)\r\n        this.addArray[i].show = false\r\n        this.addArray[i].lifeDefree = item\r\n        this.addArray[i].lifeType = index + 1\r\n      },\r\n      commit () {\r\n        this.addArray.forEach(res => {\r\n          const {lifeDefree, lifeName, lifeType} = res\r\n          const data = {\r\n            lifeDefree,\r\n            lifeName,\r\n            lifeType,\r\n            sessionId: this.sessionId,\n            memberId: this.memberId\r\n          }\r\n          this.$http.post('/mobile/healthy/addLifeLog', data)\r\n            .then(rs => {\r\n              if (rs.data.success) {\r\n                this.$u.toast(rs.data.msg)\r\n              }\r\n            })\r\n        })\r\n        setTimeout(() => {\r\n          uni.navigateBack()\r\n        }, 500)\r\n      },\r\n      deleteAddArray (i) {\r\n        this.addArray.splice(i)\r\n      },\r\n      addType (item, i) {\r\n        console.log(item, i)\r\n        let invalid = false\r\n        this.addArray.some(res => {\r\n          if (res.lifeName === item.name) {\r\n            invalid = true\r\n            return true\r\n          }\r\n        })\r\n        if (!invalid) {\r\n          this.addArray.push({\r\n            lifeName: item.name,\r\n            lifeDefree: item.items[0],\r\n            lifeType: 1,\r\n            type: i,\r\n            show: false\r\n            \r\n          })\r\n        }\r\n      },\r\n      showSelect (e) {\r\n        console.log(e)\r\n        this.addArray.forEach((res, i) => {\r\n          this.$set(res, 'show', i === e?!res.show:false)\r\n        })\r\n      }\r\n    }\n\t}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}