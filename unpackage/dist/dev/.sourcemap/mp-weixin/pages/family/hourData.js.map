{"version":3,"sources":["uni-app:///main.js","webpack:///E:/learn/xxx/pages/family/hourData.vue?a3b2","webpack:///E:/learn/xxx/pages/family/hourData.vue?8f22","webpack:///E:/learn/xxx/pages/family/hourData.vue?5c4e","webpack:///E:/learn/xxx/pages/family/hourData.vue?cf48","uni-app:///pages/family/hourData.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACyO;AACzO,gBAAgB,8OAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,mNAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAs7B,CAAgB,u7BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoD18B,kH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,UACA,qB,eACA,EACA,IADA,kBACA,CACA,SACA,QADA,EAEA,QAFA,EAGA,QAHA,EAIA,gBAJA,EAKA,aALA,EAMA,UANA,EAOA,WAPA,EAQA,OARA,GAUA,CAZA,EAaA,YACA,EADA,gBACA,CACA,8BACA,OACA,oBACA,OACA,8BACA,OACA,oBACA,OACA,4BACA,OACA,oBAVA,CAYA,CAdA,EAeA,UAfA,wBAeA,CACA,SACA,2BADA,GAGA,CAnBA,EAoBA,SApBA,uBAoBA,CACA,uCACA,CAtBA,EAuBA,QAvBA,sBAuBA,CACA,yCACA,CAzBA,EAbA,EAwCA,MAxCA,kBAwCA,CAxCA,EAwCA,CACA,aACA,8BACA,+BACA,mBACA,6BACA,mBACA,qBACA;AACA,GAjDA;AAkDA,QAlDA,oBAkDA;AACA;AACA,GApDA;AAqDA;AACA,QADA,kBACA;AACA;AACA;AACA,qCADA;AAEA,sCAFA;AAGA,0CAHA;AAIA,8CAJA;AAKA,2CALA;;;AAQA;AACA,iCADA;AAEA,+BAFA;AAGA,uBAHA;AAIA,uBAJA;;;AAOA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAVA;;AAYA;AACA;AACA;AACA;AACA,qCADA;AAEA,wBAFA;;AAIA;AACA;AACA,uCADA;AAEA,0BAFA;;AAIA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA,OAvCA;AAwCA;AACA,KA3DA;AA4DA,aA5DA,qBA4DA,MA5DA,EA4DA,UA5DA,EA4DA;AACA;AACA;AACA;AACA;AACA,0BADA,EADA,EADA;;AAKA;AACA;AACA,sBADA;AAEA,mBAFA,EADA,EALA;;;AAWA;AACA,oBADA;AAEA,mCAFA;AAGA,gDAHA;AAIA,sCAJA;AAKA;AACA,oBADA;AAEA,uBAFA;AAGA;AACA,sBAJA;AAKA,uBALA,EALA;;AAYA,oBAZA;AAaA,wBAbA;AAcA;AACA,6BAfA;AAgBA,oCAhBA;AAiBA,8CAjBA;AAkBA,gDAlBA;AAmBA;AACA;AACA;AACA;AACA,2BADA,EAtBA;;AAyBA,8BAzBA;AA0BA,sBA1BA;AA2BA,oBA3BA;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAtHA,EArDA,E","file":"pages/family/hourData.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/family/hourData.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./hourData.vue?vue&type=template&id=487de210&\"\nvar renderjs\nimport script from \"./hourData.vue?vue&type=script&lang=js&\"\nexport * from \"./hourData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/family/hourData.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hourData.vue?vue&type=template&id=487de210&\"","var components = {\n  uNavbar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hourData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\long\\\\Downloads\\\\Compressed\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hourData.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n    <u-navbar title-color=\"#fff\" back-icon-color=\"#fff\" back-icon-name=\"arrow-left\" title=\"每小时数据\" :background=\"background\"></u-navbar>\r\n    <canvas canvas-id=\"canvasHourChart\" id=\"canvasHourChart\" :style=\"{width: cWidth*pixelRatio + 'px', height: cHeight*pixelRatio + 'px'}\" class=\"fill-height full-width\"></canvas>\r\n    <view class=\"d-flex full-width pa-4 v-headerTitle align-center\" :style=\"{'background': tabBG}\">\r\n      <text\r\n        v-for=\"(item,i) in th\"\r\n        :key=\"i\"\r\n        class=\"white--text d-flex align-center justify-center flex-fill subtitle-2\"\r\n      >{{ item }}</text>\r\n    </view>\r\n    <view\n      v-for=\"(item,i) in obj\"\n      :key=\"i\"\n      :class=\"i%2?'white':'grey lighten-3'\"\n      :style=\"{'background':bgc}\"\n      class=\"grey--text text--darken-1 subtitle-2 text-center py-1 d-flex\"\n    >\n      <text class=\"subtitle-2 text-center py-1\" :class=\"type===1 || type===3 ? 'col-4':'col-6'\">{{ item.deviceTime }}</text>\n      <text\n        v-if=\"type==0\"\n        class=\"subtitle-2 text-center py-1 col-6\"\n      >{{ item.step }}</text>\n      <text\n        v-if=\"type==1\"\n        class=\"subtitle-2 text-center py-1 col-4\"\n      >{{ item.quietDuration }}分钟</text>\n      <text\n        v-if=\"type==1\"\n        class=\"subtitle-2 text-center py-1 col-4\"\n      >{{ item.heartDuration }}分钟</text>\n      <text\n        v-if=\"type==2\"\n        class=\"subtitle-2 text-center py-1 col-6\"\n      >{{ item.bpm }}/分钟</text>\n      <text\n        v-if=\"type==3\"\n        class=\"subtitle-2 text-center py-1 col-4\"\n      >{{ item.sbp }}mmHg</text>\n      <text\n        v-if=\"type==3\"\n        class=\"subtitle-2 text-center py-1 col-4\"\n      >{{ item.dbp }}mmHg</text>\n      <text\n        v-if=\"type==4\"\n        class=\"subtitle-2 text-center py-1 col-6\"\n      >{{ item.gi }}mmol/L</text>\n    </view>\n\t</view>\n</template>\n\n<script>\r\n  import uCharts from '../../js_sdk/u-charts/u-charts/u-charts.js'\r\n  let _this\r\n  let hourChart = null\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\thour: '',\r\n        type: '',\r\n        time: '',\r\n        tabBG: '#00aaef',\r\n        pixelRatio: 1,\r\n        cWidth: '',\r\n        cHeight: '',\r\n        obj: []\n\t\t\t};\n\t\t},\r\n    computed: {\r\n      th(){\r\n        switch(parseInt(this.type)){\r\n          case 0:\r\n            return ['时间','步数']\r\n          case 1:    \r\n            return ['时间', '深度睡眠', '浅度睡眠']\r\n          case 2:\r\n            return ['时间','心率']\r\n          case 3:\r\n            return ['时间', '收缩压', '舒张压',]\r\n          case 4:\r\n            return ['时间','血糖']\r\n        }\r\n      },\r\n      background () {\r\n        return {\r\n          backgroundColor: this.tabBG\r\n        }\r\n      },\r\n      sessionId () {\r\n        return this.$store.state.app.sessionId\r\n      },\r\n      memberId () {\r\n        return this.$store.state.member.memberId\r\n      }\r\n    },\r\n    onLoad(e) {\r\n      _this = this\r\n      this.cWidth=uni.upx2px(750);\r\n      this.cHeight=uni.upx2px(550);\r\n      this.hour = e.hour\r\n      this.type = parseInt(e.type)\r\n      this.time = e.time\r\n      this.tabBG = e.tabBG\r\n      console.log(e)\r\n    },\r\n    onShow() {\r\n      this.init()\r\n    },\r\n    methods: {\r\n      init () {\r\n        console.log('init init')\r\n        const urls = [\r\n          '/mobile/healthy/getStepByHour',\r\n          '/mobile/healthy/getSleepByHour',\r\n          '/mobile/healthy/getHeartRateByHour',\r\n          '/mobile/healthy/getBloodPressureByHour',\r\n          '/mobile/healthy/getBloodSugarByHour'\r\n        ]\r\n        \r\n        const params = {\r\n          sessionId: this.sessionId,\r\n          memberId: this.memberId,\r\n          time: this.time,\r\n          hour: this.hour\r\n        }\r\n        \r\n       this.$http.get(urls[this.type], params)\r\n          .then(res => {\r\n            if (res.data.success) {\r\n              this.obj = res.data.obj\r\n              const chartData = res.data.obj\r\n              let chart0 = []\r\n              let chart1 = []\r\n              let labels = []\r\n              let series = []\r\n              chartData.forEach(rs => {\r\n                labels.push(rs.deviceTime)\r\n\r\n                const str0 = ['step', 'heartDuration', 'bpm', 'sbp', 'gi' ]\r\n                const str1 = ['', 'quietDuration', '', 'dbp', '' ]\r\n                console.log(str0[this.type])\r\n                chart0.push(rs[str0[this.type]])\r\n                if (this.type === 1 || this.type === 3 ) {\r\n                  chart1.push(rs[str1[this.type]])\r\n                }\r\n              })\r\n              \r\n              const title0 = ['步数', '深睡眠', '最高心率', '收缩压', '血糖' ]\r\n              const title1 = ['', '浅睡眠', '最低心率', '舒张压', '' ]\r\n              console.log(title0[this.type])\r\n              series.push({\r\n                name: title0[this.type],\r\n                data: chart0\r\n              })               \r\n              if (this.type === 1 || this.type === 3 ) {\r\n                series.push({\r\n                  name: title1[this.type],\r\n                  data: chart1\r\n                })\r\n              }\r\n              console.log(series)\r\n              this.$nextTick(() => {\r\n                this.showChart(series, labels)\r\n              })\r\n            }\r\n          })        \r\n          console.log('>>><<<')\r\n      },\r\n      showChart (series, categories) {\r\n        console.log(series, categories)\r\n        const extra = this.type > 1 ? \r\n        {\r\n          area:{\r\n            type: 'straight'\r\n          }\r\n        } : {\r\n          column:{\r\n            opacity: 0.2,\r\n            width: 28\r\n          }          \r\n        }\r\n        hourChart = new uCharts({\r\n          $this: _this,\r\n          canvasId: 'canvasHourChart',\r\n          type: _this.type > 1 ? 'area' : 'column',\r\n          dataPointShape: _this.type < 2,\r\n          legend: {\r\n            show: true,\r\n            float: 'left',\r\n            // position: 'top',\r\n            fontSize: 12,\r\n            lineHeight: 6\r\n          },\r\n          fontSize: 12,\r\n          animation: false,\r\n          // colors: [_this.tabBG],\r\n          background:'#FFFFFF',\r\n          pixelRatio: _this.pixelRatio,\r\n          width: _this.cWidth*_this.pixelRatio,\r\n          height: _this.cHeight*_this.pixelRatio,\r\n          // yAxis: {\r\n          //   disabled: true\r\n          // },           \r\n          xAxis: {\r\n            rotateLabel: true\r\n          },\r\n          categories,\r\n          series,\r\n          extra\r\n        })\r\n        // 获取父元素节点高度\r\n        // let warpper = uni.createSelectorQuery().in(this).select('.canvasShell'+this.type)\r\n        // warpper.fields(\r\n        //   {\r\n        //     size: true,\r\n        //     scrollOffset: true\r\n        //   },\r\n        //   data => {\r\n        //     console.log(data)\r\n        //     this.cHeight= data.height;\r\n        //     this.cWidth= data.width;\r\n        //     this.$nextTick(() => {\r\n        //     })\r\n        //   }\r\n        // ).exec()\r\n        \r\n      }\r\n      \r\n    }\n\t}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}